{% extends "base.html" %}
{% load i18n %}
{% load allauth %}
{% block conteudo %}

<div class="password-reset">
    <div class="pgReset">
        <h1>{% if token_fail %} 
            {% trans "Token Inválido ! :(" %} 
        {% else %} 
            {% trans "Alterar Senha" %} 
        {% endif %}</h1>
        
        {% if token_fail %}
            {% url 'account_reset_password' as passwd_reset_url %}
            <p>
                {% blocktrans %}Este link de redefinição de senha é inválido, possivelmente porque já foi utilizado. Por favor, solicite uma <a href="{{ passwd_reset_url }}">nova redefinição de senha</a>.{% endblocktrans %}
            </p>
        {% else %}
            <form method="post" action="{{ action_url }}">
                {% csrf_token %}
                {{ redirect_field }}
                
                <div class="form-group">
                    <label for="password1">{% trans "Nova Senha" %}</label>
                    <input type="password" class="form-control" id="password1" name="password1" placeholder="{% trans 'Digite a nova senha' %}" required>
                </div>
                
                <div class="form-group">
                    <label for="password2">{% trans "Confirme a Nova Senha" %}</label>
                    <input type="password" class="form-control" id="password2" name="password2" placeholder="{% trans 'Confirme a nova senha' %}" required>
                </div>
                
                <div class="mensagens">
                    {% if messages %}
                        <ul>
                            {% for message in messages %}
                                <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                </div>

                <button type="submit" class="btn btn-primary">{% trans "Alterar Senha" %}</button>
            </form>
        {% endif %}
    </div>
</div>
{% endblock conteudo %}
